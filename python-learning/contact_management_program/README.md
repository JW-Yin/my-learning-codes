# 通讯录管理程序需求说明文档
## (类名大驼峰、文件名/函数/变量/数据库（库名/表名/字段名）蛇形)

## 一、 基础必做要求（核心功能，必须实现，覆盖所有已学知识点）
### 1.  程序整体运行逻辑
- 启动程序后，进入**循环运行状态**（使用`while`循环），直到用户选择「退出」才终止程序。
- 程序启动时，自动读取本地`address_book.json`文件中的通讯录数据（如果文件不存在，初始化一个空列表作为通讯录，无报错）。
- 提供**清晰的文字菜单**，展示可操作选项，引导用户输入选择，示例菜单：
  ```
  ====== 通讯录管理程序 ======
  1.  新增联系人
  2.  查询联系人（按姓名）
  3.  修改联系人（按姓名）
  4.  删除联系人（按姓名）
  5.  展示所有联系人
  6.  保存通讯录（手动）
  7.  退出程序
  ==========================
  请输入你要执行的操作序号（1-7）：
  ```

### 2.  核心功能实现（每个功能对应一个独立函数，用`def`定义）
#### （1） 新增联系人功能
- 提示用户输入「姓名」和「手机号码」（基础字段，足够满足需求）。
- 做简单数据校验：姓名不能为空、手机号码不能为空（使用`if`条件判断）。
- 将单个联系人信息封装为**字典**（格式：`{"姓名": "xxx", "电话": "xxx"}`）。
- 将该字典**追加**到通讯录列表中（使用列表`append()`方法）。
- 操作完成后，给出明确提示（如：「联系人【张三】添加成功！」）。

#### （2） 查询联系人功能（按姓名）
- 提示用户输入要查询的联系人姓名。
- 遍历通讯录列表（使用`for`循环），匹配对应姓名的联系人。
- 查询结果反馈：
  - 找到：格式化输出该联系人的姓名和电话（如：「查询结果：姓名：张三，电话：13800138000」）。
  - 未找到：给出提示（如：「未找到联系人【李四】！」）。
- 该函数支持返回查询到的联系人字典（便于后续修改/删除功能调用，使用`return`返回值）。

#### （3） 修改联系人功能（按姓名）
- 先调用「查询联系人」函数，获取要修改的联系人（复用代码，更规范）。
- 若找到该联系人，提示用户输入新的手机号码（保留姓名不变，小白易实现）。
- 修改该联系人字典中的「电话」对应值（字典键值对修改）。
- 操作完成后，给出明确提示（如：「联系人【张三】电话修改成功！新电话：13900139000」）。
- 若未找到，直接给出未找到提示，不执行后续操作。

#### （4） 删除联系人功能（按姓名）
- 提示用户输入要删除的联系人姓名。
- 遍历通讯录列表（使用`for`循环），匹配对应姓名的联系人。
- 删除操作反馈：
  - 找到：确认后从列表中删除该联系人字典（使用列表`remove()`方法），给出提示（如：「联系人【张三】删除成功！」）。
  - 未找到：给出提示（如：「未找到联系人【李四】，无法删除！」）。

#### （5） 展示所有联系人功能
- 先判断通讯录列表是否为空（使用`if`条件判断）：
  - 为空：给出提示（如：「当前通讯录为空，请先添加联系人！」）。
  - 不为空：格式化遍历输出所有联系人信息，排版整洁（如：「1. 姓名：张三，电话：13800138000」「2. 姓名：李四，电话：13900139000」）。

#### （6） 保存通讯录功能（手动）
- 将当前内存中的通讯录列表（完整数据），写入`address_book.json`文件（使用`json.dump()`，配合`with open()`的`'w'`模式）。
- 要求：中文正常显示（`ensure_ascii=False`），格式化缩进（`indent=2`），便于查看。
- 操作完成后，给出明确提示（如：「通讯录已成功保存到本地文件！」）。

#### （7） 退出程序功能
- 退出前，自动调用「保存通讯录」函数，避免用户忘记手动保存导致数据丢失。
- 给出退出提示（如：「感谢使用通讯录管理程序，再见！」）。
- 终止`while`循环（使用`break`语句），结束程序运行。

### 3.  代码规范要求（导师更看重代码整洁度）
- 每个功能对应一个独立函数，函数命名见名知意（如：`add_contact()`、`search_contact()`、`save_address_book()`）。
- 关键代码行添加简短注释（不用过多，说明功能即可，如：「初始化通讯录列表」「遍历列表查询联系人」）。
- 文件读写时指定`encoding="utf-8"`，避免中文乱码。
- 用户输入提示清晰，错误反馈友好，避免程序运行过程中因无效输入直接报错（基础阶段暂不要求复杂输入校验，避免小白卡壳）。
