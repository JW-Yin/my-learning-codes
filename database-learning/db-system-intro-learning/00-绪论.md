# 第1章 绪论 核心知识点干货梳理（无比喻·纯考点·重逻辑）
## 1.1 数据库系统概述
### 1.1.1 数据库的4个基本概念（层级包含：数据<数据库<DBMS<DBS）
1. **数据（data）**
   - 数据库存储的基本对象，是描述事物的符号记录；广义包含数字、文本、图形、音频、视频等。
   - 核心特性：**数据与语义不可分**，脱离语义的符号无实际应用价值。
2. **数据库（DataBase，DB）**
   - 定义：长期存储在计算机内、**有组织、可共享**的大量数据的集合。
   - 三大核心特点：永久存储、有组织、可共享。
3. **数据库管理系统（DBMS）**
   - 定位：位于**用户与操作系统之间**的核心数据管理软件。
   - 核心功能：数据定义、数据的组织存储与管理、数据操纵（增删改查）、事务管理、数据库的建立与维护。
4. **数据库系统（DBS）**
   - 组成：**数据库 + DBMS + 应用程序 + 数据库管理员（DBA）**。
   - DBA核心定位：全面管理和维护数据库系统的核心人员，非应用开发人员。

### 1.1.2 数据管理技术的3个发展阶段（核心：对比特点+记本质区别）
| 阶段                | 时间范围                | 核心特点（必记）|
|---------------------|-------------------------|---------------------------------------------|
| 人工管理阶段        | 20世纪50年代中期前      | 数据不保存；应用程序管理数据；数据不共享；数据无独立性 |
| 文件系统阶段        | 20世纪50年代后期-60年代中期 | 数据长期保存；文件系统管理数据；共享性差、冗余度大；数据独立性差 |
| 数据库系统阶段      | 20世纪60年代后期至今    | 数据结构化；共享性高、冗余度低；数据独立性高；由DBMS统一管理控制 |
**核心考点**：数据库系统阶段与文件系统阶段的**本质区别**——**数据是否实现整体结构化**（文件系统为局部结构化，文件间无关联；数据库系统为全局结构化，数据间存在明确联系）。

### 1.1.3 数据库系统的4个特点（即数据库系统阶段的核心优势）
1. **数据结构化**：数据库实现**整体数据的结构化**，数据之间的联系由数据模型定义，是数据库的核心特征。
2. **数据的共享性高、冗余度低且易扩充**：数据面向整个系统而非单个应用；共享减少冗余，避免数据不一致；结构化数据支持灵活扩展新应用/新数据。
3. **数据独立性高**：分为物理独立性和逻辑独立性，由后续**二级映像**机制保证，是数据库系统的重要优势。
4. **数据由DBMS统一管理和控制**（DBMS四大核心管理功能，必考）：
   - 数据安全性保护：防止不合法数据访问造成的泄密/破坏；
   - 数据完整性检查：保证数据的正确性、有效性、相容性；
   - 并发控制：解决多用户同时操作数据的冲突问题；
   - 数据库恢复：将数据库从错误状态恢复至正确的一致状态。

## 1.2 数据模型（数据库系统的基础与核心）
### 1.2.1 两类数据模型（按抽象层次/使用人群划分，实际为3层）
1. **概念模型（信息模型）**
   - 建模视角：按**用户观点**建模；
   - 用途：用于数据库设计，是现实世界到机器世界的中间层；
   - 特点：与计算机、DBMS无关，直观简洁，面向业务人员/设计人员。
2. **逻辑模型**
   - 建模视角：按**计算机系统观点**建模；
   - 用途：实现DBMS的核心模型，将概念模型转化为计算机可识别的结构；
   - 常见类型：层次模型、网状模型、**关系模型（核心）**、面向对象数据模型、对象关系数据模型、半结构化数据模型。
3. **物理模型**
   - 建模视角：面向**计算机硬件/存储**；
   - 用途：描述数据在系统内部的物理表示方式和存取方法；
   - 特点：对用户完全透明，由DBMS自动实现，仅需DBA少量优化。

### 1.2.2 概念模型（核心：信息世界概念+E-R图，数据库设计）
#### 1. 信息世界基本概念（必记定义+内涵）
- **实体（entity）**：现实世界中客观存在并可相互区别的事物（人/事/物）；
- **属性（attribute）**：实体的固有特征，一个实体可由多个属性描述；
- **码（key）**：能**唯一标识**一个实体的属性（集）；
- **实体型（entity type）**：用**实体名+属性名集合**描述一类实体，格式：实体名(属性1,属性2,...,属性n)；
- **实体集（entity set）**：同一实体型的所有实体的集合；
- **联系（relationship）**：不同实体集之间的关联关系，实体内部属性间也可存在联系。

#### 2. 实体间的3种联系类型（按数量对应关系划分，E-R图核心）
- **一对一（1:1）**：实体集A中一个实体仅对应实体集B中一个实体，反之亦然；
- **一对多（1:n）**：实体集A中一个实体对应实体集B中多个实体，B中一个实体仅对应A中一个实体；
- **多对多（m:n）**：实体集A中一个实体对应实体集B中多个实体，B中一个实体也对应A中多个实体（考试/设计重点）。

#### 3. 实体-联系方法（E-R图）
- 表示规范：矩形表示**实体集**，椭圆形表示**属性**（码加下划线），菱形表示**联系**（标注联系名）；
- 绘制规则：属性与实体集用线连接，联系与对应实体集用线连接，线上标注联系类型（1:1/1:n/m:n）。

### 1.2.3 数据模型的组成要素（所有数据模型的通用规则）
任何数据模型均由以下3要素组成，缺一不可，是数据模型的核心定义：
1. **数据结构**：描述数据库的组成对象及对象间的联系，是数据模型的**基础**，决定数据模型的类型；
2. **数据操作**：描述对数据库中数据的允许操作集合及操作规则，核心为**查询**和**更新**（插入、删除、修改）；
3. **数据的完整性约束条件**：一组保证数据正确性、有效性、相容性的规则，分为通用约束和特定模型的专用约束。

### 1.2.4-1.2.7 常用的数据模型
#### 1. 层次模型
- 数据结构：**树形结构**，满足约束：有且仅有一个根结点；其他结点有且仅有一个双亲结点；
- 数据操纵：支持查询、插入、删除、更新，操作受树形结构约束；
- 优缺点：优点为结构简单、查询效率高、完整性支持好；缺点为表示非层次联系困难、插入删除限制多、查询需通过双亲结点。

#### 2. 网状模型
- 数据结构：**有向图结构**，层次模型的扩展，允许结点无双亲或有多个双亲；
- 数据操纵：支持记录码概念，保证一对多联系，可自定义约束条件；
- 优缺点：优点为直接描述现实世界、存取效率高；缺点为结构复杂、DDL/DML语言繁琐、用户需掌握系统底层细节。

#### 3. 关系模型
##### （1）核心数据结构：关系（二维表）
基于严格的数学概念，**所有数据及数据间联系均用二维表表示**，核心术语（一一对应，必记）：
| 关系模型术语 | 定义 |
|--------------|------|
| 关系         | 一个二维表，对应一个实体集/联系 |
| 元组         | 关系中的一行，对应一个实体的具体记录 |
| 属性         | 关系中的一列，对应实体的一个特征 |
| 码（主键）| 能唯一标识关系中一个元组的属性（集） |
| 域           | 属性的取值范围，即属性的有效值集合 |
| 关系模式     | 对关系的描述，格式：关系名(属性1,属性2,...,属性n) |
**核心特性**：概念单一，实体和实体间的联系均用关系表示，无其他复杂结构。

##### （2）数据操纵
- 操作对象：整个关系/元组，而非单个数据项；
- 操作类型：查询、插入、删除、更新，操作基于关系代数/关系演算，语言统一（SQL）。

##### （3）数据的完整性约束（三大完整性）
1. **实体完整性**：关系中**主键属性的值不能为空，且不能重复**；
2. **参照完整性**：关系间的外键与主键的引用必须合法，外键值要么为空，要么为被参照关系中存在的主键值；
3. **用户定义完整性**：根据具体业务需求制定的自定义约束，如属性的取值范围、格式限制等。

##### （4）优缺点
- 优点：概念单一、结构简单清晰、数据独立性高、用户无需了解底层细节、语言标准化（SQL）；
- 缺点：查询效率相较于层次/网状模型较低（可通过索引、查询优化弥补）。

## 1.3 数据库系统的结构（核心：三级模式+二级映像，保证数据独立性）
### 1.3.1 数据库系统模式的概念（先辨清两对基础概念）
1. **型（type）与值（value）**
   - 型：对数据的结构和属性的**抽象说明**，是固定不变的；
   - 值：型的**具体赋值**，是随业务操作动态变化的。
2. **模式（schema）与实例（instance）**
   - 模式：数据库中**全体数据的逻辑结构和特征的描述**，即数据库的“型”，由DBA定义，相对稳定；
   - 实例：模式在**某一时刻的具体数据集合**，即数据库的“值”，随增删改查实时变化；
   - 核心关系：一个模式对应多个实例，模式是实例的抽象，实例是模式的具体实现。

### 1.3.2 数据库系统的三级模式结构（所有DBMS的标准结构）
**核心规则**：一个数据库**仅有一个模式、一个内模式，可拥有多个外模式**。
1. **模式（逻辑模式/概念模式）**
   - 定义：数据库中**全体数据的全局逻辑结构和特征**的描述，是所有用户的公共数据视图；
   - 核心：不涉及物理存储，仅描述数据的逻辑结构、联系、完整性约束，由DBA统一定义。
2. **外模式（用户模式/子模式）**
   - 定义：数据库用户能看见和使用的**局部数据的逻辑结构和特征**描述；
   - 核心：是模式的子集，可根据用户权限/需求定制，**保证数据库安全性**，简化用户操作。
3. **内模式（存储模式/物理模式）**
   - 定义：数据的**物理结构和存储方式**的描述，即数据在数据库内部的组织方式；
   - 核心：描述存储结构（如文件类型、索引结构）、存取方法，面向硬件，对用户/应用程序完全透明。

### 1.3.3 数据库的二级映像功能与数据独立性
**映像**：定义两个模式之间的**对应关系和转换规则**，由DBMS实现和维护，是连接三级模式的桥梁；**二级映像对应两种数据独立性**，核心价值是实现数据与应用程序的分离。
1. **外模式/模式映像**
   - 对应关系：一个外模式对应一个映像，一个模式可对应多个映像；
   - 核心作用：保证**数据的逻辑独立性**——当模式（全局逻辑结构）发生改变时，只需修改对应的映像，外模式保持不变，基于外模式开发的应用程序无需修改。
2. **模式/内模式映像**
   - 对应关系：**一个数据库仅有一个该映像**，是全局唯一的；
   - 核心作用：保证**数据的物理独立性**——当内模式（物理存储结构）发生改变时，只需修改该映像，模式保持不变，外模式和应用程序无需修改。

## 1.4 数据库系统的组成（三大核心部分：硬件+软件+人员，记核心组成+关键职责）
### 1.4.1 硬件平台及数据库（物理基础，满足存储、计算、传输需求）
- 足够容量的**内存**：存放DBMS核心模块、数据缓存，提升操作效率；
- 大容量的**外存**（磁盘/SSD）：存储数据库数据、日志文件、备份文件；
- 较高的**通道能力**：提升数据的传输速率，支撑多用户并发操作；
- 高性能**CPU**：支持复杂的查询优化、事务处理、并发控制。

### 1.4.2 软件（核心为DBMS，其余为支撑软件，按重要性排序）
1. **数据库管理系统（DBMS）**：整个系统的核心软件，提供数据管理的所有基础功能；
2. **操作系统（OS）**：支撑DBMS运行的底层软件，负责硬件管理、进程调度；
3. **高级语言及编译系统**：如Java、Python、C++，用于开发数据库应用程序；
4. **应用开发工具**：数据库设计工具（PowerDesigner、ERwin）、数据库管理工具（Navicat、DBeaver）、ORM框架（MyBatis、SQLAlchemy）；
5. **数据库应用系统**：面向具体业务的应用程序，是用户操作数据库的载体。

### 1.4.3 人员（按职责分工，核心记DBA职责）
1. **数据库管理员（DBA）**（核心考点，记5大核心职责）
   - 决定数据库的信息内容和逻辑结构（模式设计）；
   - 决定数据的存储结构和存取策略（内模式优化）；
   - 定义数据的安全性和完整性约束条件；
   - 监控数据库的使用和运行，优化系统性能；
   - 负责数据库的备份、恢复，以及数据库的重组与重构。
2. **系统分析员和数据库设计人员**
   - 系统分析员：梳理业务需求，完成需求分析和规范说明；
   - 数据库设计人员：根据需求设计概念模型（E-R图）、逻辑模型和物理模型。
3. **应用程序员**：设计并编写数据库应用程序，实现数据的增删改查，调试和测试程序。
4. **最终用户**：通过应用程序使用数据库的终端用户，分为偶然用户、简单用户、复杂用户。

## 1.5 本章核心小结+必考考点清单
### 1. 核心知识逻辑链
基本概念建体系 → 发展阶段看进化（解决痛点）→ 数据模型定规则（核心为关系模型）→ 三级模式+二级映像保独立 → 硬件+软件+人员构系统。

### 2. 易混点速辨（避坑核心）
- 物理独立性≠逻辑独立性：物理独立是**内模式变，模式不变**；逻辑独立是**模式变，外模式不变**；
- 模式数量：一个库**一个模式、一个内模式、多个外模式**；
- 关系模型术语：关系=表，元组=行，属性=列，必须严格对应；
- DBA≠应用程序员：DBA负责**管理维护数据库**，程序员负责**开发应用程序/SQL编写**；
- 实体完整性vs参照完整性：实体完整性约束**主键**，参照完整性约束**外键与主键的引用关系**。
